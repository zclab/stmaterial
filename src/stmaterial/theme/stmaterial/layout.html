{% extends "base.html" %}

{% if theme_navbar_style == "navigation" %}
{%- set sidebar_nav_html = generate_toctree_html(
"sidebar",
show_nav_level=theme_show_nav_level|int,
maxdepth=theme_navigation_depth|int,
collapse=theme_collapse_navigation|tobool,
includehidden=True,
titles_only=True)
-%}
{% else %}
{%- set sidebar_nav_html = generate_toctree_html(
startdepth=0,
kind="sidebar",
maxdepth=4,
collapse=False,
includehidden=True,
titles_only=True,
show_nav_level=theme_show_nav_level|int)
-%}
{% endif %}


{% block htmlbody -%}
{{ super() }}


{% block mainbody -%}

<header>
    {% include "sections/navbar.html" %}
</header>

<div class="stm-main">
    <div class="main-wrapper">
        {%- include "components/back-to-top.html" -%}
        <div class="stm-doc">
            <aside class="stm-sidenav hide-on-small-only">
                <div class="sidenav-viewport">
                    {% block left_sidebar %}
                    {%- include "sections/sidebar-primary.html" -%}
                    {% endblock left_sidebar %}
                </div>
            </aside>
            <main>
                <div class="container">
                    <div class="row">
                        <div class="section col s12 m10 xl9 stm-article">
                            <article role="main" class="section">
                                {% block body %}{{ body }}{% endblock %}
                            </article>

                            {% if theme_use_edit_page_button %}
                            {% include "components/edit-this-page.html" %}
                            {% endif %}

                            <div class="stm-footer">
                                {% if theme_show_prev_next %}
                                {% include "components/prev-next.html" %}
                                {% endif %}
                            </div>
                        </div>
                        {% set page_toc = generate_toc_html() %}
                        {%- if page_toc | length >= 1 %}
                        {% include "sections/page-toc.html" %}
                        {% endif %}
                    </div>
                </div>
            </main>
        </div>
    </div>
</div>
{% block footer %}
{% include "sections/footer.html" %}
{% endblock %}

{%- endblock %}
{%- endblock %}